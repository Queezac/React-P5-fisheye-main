{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 20, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Salom%C3%A9/Desktop/Projets%20Openclassrooms/projet4/React-P5-fisheye-main/src/app/lib/prisma-db.js"],"sourcesContent":["const { PrismaClient } = require('@prisma/client');\r\n\r\nconst prisma = new PrismaClient();\r\n\r\nexport const getAllPhotographers = () => prisma.photographer.findMany();\r\n\r\nexport const getPhotographer = (id) =>\r\n  prisma.photographer.findUnique({\r\n    where: { id },\r\n  });\r\n\r\nexport const getPhotographerWithLikes = async (id) => {\r\n  const photographer = await prisma.photographer.findUnique({\r\n    where: { id },\r\n    include: { medias: true },\r\n  });\r\n\r\n  if (!photographer) return null;\r\n\r\n  const totalLikes = photographer.medias.reduce((acc, media) => acc + media.likes, 0);\r\n\r\n  return { ...photographer, totalLikes };\r\n};\r\n\r\nexport const getAllMediasForPhotographer = (photographerId) =>\r\n  prisma.media.findMany({\r\n    where: { photographerId },\r\n  });\r\n\r\nexport const updateNumberOfLikes = (mediaId, newNumberOfLikes) =>\r\n  prisma.media.update({\r\n    where: { id: mediaId },\r\n    data: { likes: newNumberOfLikes },\r\n  });\r\n"],"names":[],"mappings":";;;;;;;;;;;;AAAA,MAAM,EAAE,YAAY,EAAE;AAEtB,MAAM,SAAS,IAAI;AAEZ,MAAM,sBAAsB,IAAM,OAAO,YAAY,CAAC,QAAQ;AAE9D,MAAM,kBAAkB,CAAC,KAC9B,OAAO,YAAY,CAAC,UAAU,CAAC;QAC7B,OAAO;YAAE;QAAG;IACd;AAEK,MAAM,2BAA2B,OAAO;IAC7C,MAAM,eAAe,MAAM,OAAO,YAAY,CAAC,UAAU,CAAC;QACxD,OAAO;YAAE;QAAG;QACZ,SAAS;YAAE,QAAQ;QAAK;IAC1B;IAEA,IAAI,CAAC,cAAc,OAAO;IAE1B,MAAM,aAAa,aAAa,MAAM,CAAC,MAAM,CAAC,CAAC,KAAK,QAAU,MAAM,MAAM,KAAK,EAAE;IAEjF,OAAO;QAAE,GAAG,YAAY;QAAE;IAAW;AACvC;AAEO,MAAM,8BAA8B,CAAC,iBAC1C,OAAO,KAAK,CAAC,QAAQ,CAAC;QACpB,OAAO;YAAE;QAAe;IAC1B;AAEK,MAAM,sBAAsB,CAAC,SAAS,mBAC3C,OAAO,KAAK,CAAC,MAAM,CAAC;QAClB,OAAO;YAAE,IAAI;QAAQ;QACrB,MAAM;YAAE,OAAO;QAAiB;IAClC"}},
    {"offset": {"line": 72, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/src/components/Header/Header.module.css [app-rsc] (css module)"],"sourcesContent":["__turbopack_context__.v({\n  \"header\": \"Header-module__ldgnoG__header\",\n  \"image\": \"Header-module__ldgnoG__image\",\n  \"textHeader\": \"Header-module__ldgnoG__textHeader\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA"}},
    {"offset": {"line": 81, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Salom%C3%A9/Desktop/Projets%20Openclassrooms/projet4/React-P5-fisheye-main/src/components/Header/Header.js"],"sourcesContent":["import Image from \"next/image\";\r\nimport styles from './Header.module.css';\r\nimport Link from \"next/link\";\r\n\r\nexport default async function Header({ displayText = true }) {\r\n  return (\r\n    <header className={styles.header} role=\"banner\">\r\n      <Link href=\"/\" aria-label=\"Fisheye Home Page\">\r\n        <Image \r\n          src=\"/assets/logo/logo-fisheye.png\"\r\n          alt=\"Fisheye Home page\"\r\n          width={400}\r\n          height={300}\r\n          className={styles.image}\r\n          priority\r\n        />\r\n      </Link>\r\n      \r\n      {displayText && (\r\n        <h1 className={styles.textHeader}>\r\n          Nos photographes\r\n        </h1>\r\n      )}\r\n    </header>\r\n  );\r\n}"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;;;;;AAEe,eAAe,OAAO,EAAE,cAAc,IAAI,EAAE;IACzD,qBACE,8OAAC;QAAO,WAAW,4JAAM,CAAC,MAAM;QAAE,MAAK;;0BACrC,8OAAC,0LAAI;gBAAC,MAAK;gBAAI,cAAW;0BACxB,cAAA,8OAAC,wIAAK;oBACJ,KAAI;oBACJ,KAAI;oBACJ,OAAO;oBACP,QAAQ;oBACR,WAAW,4JAAM,CAAC,KAAK;oBACvB,QAAQ;;;;;;;;;;;YAIX,6BACC,8OAAC;gBAAG,WAAW,4JAAM,CAAC,UAAU;0BAAE;;;;;;;;;;;;AAM1C"}},
    {"offset": {"line": 137, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Salom%C3%A9/Desktop/Projets%20Openclassrooms/projet4/React-P5-fisheye-main/src/components/Gallery/Gallery.js/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/components/Gallery/Gallery.js <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/components/Gallery/Gallery.js <module evaluation>\",\n    \"default\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;uCACe,IAAA,wQAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAAqS,GAClU,mEACA","ignoreList":[0]}},
    {"offset": {"line": 151, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Salom%C3%A9/Desktop/Projets%20Openclassrooms/projet4/React-P5-fisheye-main/src/components/Gallery/Gallery.js/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/components/Gallery/Gallery.js from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/components/Gallery/Gallery.js\",\n    \"default\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;uCACe,IAAA,wQAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAAiR,GAC9S,+CACA","ignoreList":[0]}},
    {"offset": {"line": 165, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 173, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Salom%C3%A9/Desktop/Projets%20Openclassrooms/projet4/React-P5-fisheye-main/src/components/ContactForm/ContactForm.js/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/components/ContactForm/ContactForm.js <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/components/ContactForm/ContactForm.js <module evaluation>\",\n    \"default\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;uCACe,IAAA,wQAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAA6S,GAC1U,2EACA","ignoreList":[0]}},
    {"offset": {"line": 187, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Salom%C3%A9/Desktop/Projets%20Openclassrooms/projet4/React-P5-fisheye-main/src/components/ContactForm/ContactForm.js/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/components/ContactForm/ContactForm.js from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/components/ContactForm/ContactForm.js\",\n    \"default\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;uCACe,IAAA,wQAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAAyR,GACtT,uDACA","ignoreList":[0]}},
    {"offset": {"line": 201, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 209, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Salom%C3%A9/Desktop/Projets%20Openclassrooms/projet4/React-P5-fisheye-main/src/components/index.js"],"sourcesContent":["import Header from \"./Header/Header\";\r\nimport Gallery from \"./Gallery/Gallery\";\r\nimport ContactForm from \"./ContactForm/ContactForm\";\r\nexport { Header, Gallery, ContactForm };"],"names":[],"mappings":";AAAA;AACA;AACA"}},
    {"offset": {"line": 247, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/src/app/page.module.css [app-rsc] (css module)"],"sourcesContent":["__turbopack_context__.v({\n  \"container\": \"page-module___8aEwW__container\",\n  \"details\": \"page-module___8aEwW__details\",\n  \"header\": \"page-module___8aEwW__header\",\n  \"imageHeader\": \"page-module___8aEwW__imageHeader\",\n  \"infoContainer\": \"page-module___8aEwW__infoContainer\",\n  \"localisation\": \"page-module___8aEwW__localisation\",\n  \"photoWrapper\": \"page-module___8aEwW__photoWrapper\",\n  \"photographerCardBottom\": \"page-module___8aEwW__photographerCardBottom\",\n  \"portrait\": \"page-module___8aEwW__portrait\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"}},
    {"offset": {"line": 262, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Salom%C3%A9/Desktop/Projets%20Openclassrooms/projet4/React-P5-fisheye-main/src/app/photographes/%5Bid%5D/page.js"],"sourcesContent":["import { notFound } from \"next/navigation\";\r\nimport Image from \"next/image\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faHeart as faHeartSolid } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { getPhotographerWithLikes, getAllMediasForPhotographer } from \"../../lib/prisma-db.js\";\r\nimport { Gallery, Header, ContactForm } from \"../../../components\";\r\nimport styles from '../../page.module.css';\r\n\r\nexport const metadata = {\r\n  title: \"Fisheye - Photographes professionnels\",\r\n  description: \"Découvrez les meilleurs photographes professionnels sur Fisheye.\",\r\n};\r\n\r\nexport default async function PhotographerPage({ params }) {\r\n  const resolvedParams = await params;\r\n  const { id } = resolvedParams;\r\n\r\n  if (!id) notFound();\r\n\r\n  const photographer = await getPhotographerWithLikes(Number(id));\r\n  if (!photographer) notFound();\r\n\r\n  const medias = await getAllMediasForPhotographer(Number(id));\r\n\r\n  return (\r\n    <div className={styles.container}>\r\n      <Header displayText={false} />\r\n\r\n      <main id=\"main-content\">\r\n        <div className={styles.infoContainer}>\r\n          <section className={styles.details} aria-labelledby=\"photographer-name\">\r\n            <h1 id=\"photographer-name\">{photographer.name}</h1>\r\n            <p className={styles.localisation}>{photographer.city}, {photographer.country}</p>\r\n            <p className={styles.tagline}>{photographer.tagline}</p>\r\n          </section>\r\n\r\n          <section className={styles.contact}>\r\n            <ContactForm photographerName={photographer.name} />\r\n          </section>\r\n\r\n          <section className={styles.portrait}>\r\n            <div className={styles.photoWrapper}>\r\n              <Image\r\n                src={`/assets/${photographer.portrait}`}\r\n                alt={photographer.name}\r\n                fill\r\n                priority\r\n                style={{ objectFit: 'cover', objectPosition: 'center' }}\r\n                sizes=\"(max-width: 768px) 150px, 200px\"\r\n              />\r\n            </div>\r\n          </section>\r\n        </div>\r\n\r\n        <Gallery medias={medias} />\r\n      </main>\r\n\r\n      <aside className={styles.photographerCardBottom} aria-label=\"Statistiques et tarif du photographe\">\r\n        <div className={styles.likesTotal}>\r\n          <span>{photographer.totalLikes}</span>\r\n          <span aria-label=\"likes total\" role=\"img\">\r\n            <FontAwesomeIcon \r\n              icon={faHeartSolid} \r\n              style={{ color: \"black\" }} \r\n            />\r\n          </span>\r\n        </div>\r\n        <p>{photographer.price}€ / jour</p>\r\n      </aside>\r\n    </div>\r\n  );\r\n}"],"names":[],"mappings":";;;;;;;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;;;;;;;;;AAEO,MAAM,WAAW;IACtB,OAAO;IACP,aAAa;AACf;AAEe,eAAe,iBAAiB,EAAE,MAAM,EAAE;IACvD,MAAM,iBAAiB,MAAM;IAC7B,MAAM,EAAE,EAAE,EAAE,GAAG;IAEf,IAAI,CAAC,IAAI,IAAA,iMAAQ;IAEjB,MAAM,eAAe,MAAM,IAAA,6JAAwB,EAAC,OAAO;IAC3D,IAAI,CAAC,cAAc,IAAA,iMAAQ;IAE3B,MAAM,SAAS,MAAM,IAAA,gKAA2B,EAAC,OAAO;IAExD,qBACE,8OAAC;QAAI,WAAW,yIAAM,CAAC,SAAS;;0BAC9B,8OAAC,oLAAM;gBAAC,aAAa;;;;;;0BAErB,8OAAC;gBAAK,IAAG;;kCACP,8OAAC;wBAAI,WAAW,yIAAM,CAAC,aAAa;;0CAClC,8OAAC;gCAAQ,WAAW,yIAAM,CAAC,OAAO;gCAAE,mBAAgB;;kDAClD,8OAAC;wCAAG,IAAG;kDAAqB,aAAa,IAAI;;;;;;kDAC7C,8OAAC;wCAAE,WAAW,yIAAM,CAAC,YAAY;;4CAAG,aAAa,IAAI;4CAAC;4CAAG,aAAa,OAAO;;;;;;;kDAC7E,8OAAC;wCAAE,WAAW,yIAAM,CAAC,OAAO;kDAAG,aAAa,OAAO;;;;;;;;;;;;0CAGrD,8OAAC;gCAAQ,WAAW,yIAAM,CAAC,OAAO;0CAChC,cAAA,8OAAC,wMAAW;oCAAC,kBAAkB,aAAa,IAAI;;;;;;;;;;;0CAGlD,8OAAC;gCAAQ,WAAW,yIAAM,CAAC,QAAQ;0CACjC,cAAA,8OAAC;oCAAI,WAAW,yIAAM,CAAC,YAAY;8CACjC,cAAA,8OAAC,wIAAK;wCACJ,KAAK,CAAC,QAAQ,EAAE,aAAa,QAAQ,EAAE;wCACvC,KAAK,aAAa,IAAI;wCACtB,IAAI;wCACJ,QAAQ;wCACR,OAAO;4CAAE,WAAW;4CAAS,gBAAgB;wCAAS;wCACtD,OAAM;;;;;;;;;;;;;;;;;;;;;;kCAMd,8OAAC,wLAAO;wBAAC,QAAQ;;;;;;;;;;;;0BAGnB,8OAAC;gBAAM,WAAW,yIAAM,CAAC,sBAAsB;gBAAE,cAAW;;kCAC1D,8OAAC;wBAAI,WAAW,yIAAM,CAAC,UAAU;;0CAC/B,8OAAC;0CAAM,aAAa,UAAU;;;;;;0CAC9B,8OAAC;gCAAK,cAAW;gCAAc,MAAK;0CAClC,cAAA,8OAAC,yLAAe;oCACd,MAAM,mLAAY;oCAClB,OAAO;wCAAE,OAAO;oCAAQ;;;;;;;;;;;;;;;;;kCAI9B,8OAAC;;4BAAG,aAAa,KAAK;4BAAC;;;;;;;;;;;;;;;;;;;AAI/B"}}]
}