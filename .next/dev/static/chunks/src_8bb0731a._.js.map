{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 3, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/src/components/ContactForm/ContactForm.module.css [app-client] (css module)"],"sourcesContent":["__turbopack_context__.v({\n  \"closeButton\": \"ContactForm-module__fw3Taq__closeButton\",\n  \"form\": \"ContactForm-module__fw3Taq__form\",\n  \"modal\": \"ContactForm-module__fw3Taq__modal\",\n  \"modalOverlay\": \"ContactForm-module__fw3Taq__modalOverlay\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA"}},
    {"offset": {"line": 13, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Salom%C3%A9/Desktop/Projets%20Openclassrooms/projet4/React-P5-fisheye-main/src/components/ContactForm/ContactForm.js"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState } from \"react\";\r\nimport styles from './ContactForm.module.css';\r\n\r\nexport default function ContactForm({ photographerName, onClose }) {\r\n  const [formData, setFormData] = useState({\r\n    firstName: \"\",\r\n    lastName: \"\",\r\n    email: \"\",\r\n    message: \"\"\r\n  });\r\n\r\n  const [submitted, setSubmitted] = useState(false);\r\n\r\n  const handleChange = (e) => {\r\n    setFormData(prev => ({ ...prev, [e.target.name]: e.target.value }));\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n\r\n    const res = await fetch(\"/api/contact\", {\r\n      method: \"POST\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify({ ...formData, photographerName })\r\n    });\r\n\r\n    if (res.ok) {\r\n      setSubmitted(true);\r\n      setFormData({ firstName: \"\", lastName: \"\", email: \"\", message: \"\" });\r\n    } else {\r\n      alert(\"Erreur lors de l'envoi du message.\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={styles.overlay}>\r\n      <div className={styles.modal}>\r\n        <button className={styles.close} onClick={onClose}>×</button>\r\n        <h2>Contactez {photographerName}</h2>\r\n\r\n        {submitted ? (\r\n          <p>Merci ! Votre message a été envoyé.</p>\r\n        ) : (\r\n          <form onSubmit={handleSubmit} className={styles.form}>\r\n            <input\r\n              type=\"text\"\r\n              name=\"firstName\"\r\n              placeholder=\"Prénom\"\r\n              value={formData.firstName}\r\n              onChange={handleChange}\r\n              required\r\n            />\r\n            <input\r\n              type=\"text\"\r\n              name=\"lastName\"\r\n              placeholder=\"Nom\"\r\n              value={formData.lastName}\r\n              onChange={handleChange}\r\n              required\r\n            />\r\n            <input\r\n              type=\"email\"\r\n              name=\"email\"\r\n              placeholder=\"Email\"\r\n              value={formData.email}\r\n              onChange={handleChange}\r\n              required\r\n            />\r\n            <textarea\r\n              name=\"message\"\r\n              placeholder=\"Votre message\"\r\n              value={formData.message}\r\n              onChange={handleChange}\r\n              required\r\n            />\r\n            <button type=\"submit\">Envoyer</button>\r\n          </form>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;;;AAHA;;;AAKe,SAAS,YAAY,EAAE,gBAAgB,EAAE,OAAO,EAAE;;IAC/D,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,yKAAQ,EAAC;QACvC,WAAW;QACX,UAAU;QACV,OAAO;QACP,SAAS;IACX;IAEA,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,yKAAQ,EAAC;IAE3C,MAAM,eAAe,CAAC;QACpB,YAAY,CAAA,OAAQ,CAAC;gBAAE,GAAG,IAAI;gBAAE,CAAC,EAAE,MAAM,CAAC,IAAI,CAAC,EAAE,EAAE,MAAM,CAAC,KAAK;YAAC,CAAC;IACnE;IAEA,MAAM,eAAe,OAAO;QAC1B,EAAE,cAAc;QAEhB,MAAM,MAAM,MAAM,MAAM,gBAAgB;YACtC,QAAQ;YACR,SAAS;gBAAE,gBAAgB;YAAmB;YAC9C,MAAM,KAAK,SAAS,CAAC;gBAAE,GAAG,QAAQ;gBAAE;YAAiB;QACvD;QAEA,IAAI,IAAI,EAAE,EAAE;YACV,aAAa;YACb,YAAY;gBAAE,WAAW;gBAAI,UAAU;gBAAI,OAAO;gBAAI,SAAS;YAAG;QACpE,OAAO;YACL,MAAM;QACR;IACF;IAEA,qBACE,6LAAC;QAAI,WAAW,yKAAM,CAAC,OAAO;kBAC5B,cAAA,6LAAC;YAAI,WAAW,yKAAM,CAAC,KAAK;;8BAC1B,6LAAC;oBAAO,WAAW,yKAAM,CAAC,KAAK;oBAAE,SAAS;8BAAS;;;;;;8BACnD,6LAAC;;wBAAG;wBAAW;;;;;;;gBAEd,0BACC,6LAAC;8BAAE;;;;;yCAEH,6LAAC;oBAAK,UAAU;oBAAc,WAAW,yKAAM,CAAC,IAAI;;sCAClD,6LAAC;4BACC,MAAK;4BACL,MAAK;4BACL,aAAY;4BACZ,OAAO,SAAS,SAAS;4BACzB,UAAU;4BACV,QAAQ;;;;;;sCAEV,6LAAC;4BACC,MAAK;4BACL,MAAK;4BACL,aAAY;4BACZ,OAAO,SAAS,QAAQ;4BACxB,UAAU;4BACV,QAAQ;;;;;;sCAEV,6LAAC;4BACC,MAAK;4BACL,MAAK;4BACL,aAAY;4BACZ,OAAO,SAAS,KAAK;4BACrB,UAAU;4BACV,QAAQ;;;;;;sCAEV,6LAAC;4BACC,MAAK;4BACL,aAAY;4BACZ,OAAO,SAAS,OAAO;4BACvB,UAAU;4BACV,QAAQ;;;;;;sCAEV,6LAAC;4BAAO,MAAK;sCAAS;;;;;;;;;;;;;;;;;;;;;;;AAMlC;GA9EwB;KAAA"}},
    {"offset": {"line": 182, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Salom%C3%A9/Desktop/Projets%20Openclassrooms/projet4/React-P5-fisheye-main/src/app/lib/prisma-db.js"],"sourcesContent":["const { PrismaClient } = require('@prisma/client');\r\n\r\nconst prisma = new PrismaClient();\r\n\r\nexport const getAllPhotographers = () => prisma.photographer.findMany();\r\n\r\nexport const getPhotographer = (id) =>\r\n  prisma.photographer.findUnique({\r\n    where: { id },\r\n  });\r\n\r\nexport const getPhotographerWithLikes = async (id) => {\r\n  const photographer = await prisma.photographer.findUnique({\r\n    where: { id },\r\n    include: { medias: true },\r\n  });\r\n\r\n  if (!photographer) return null;\r\n\r\n  const totalLikes = photographer.medias.reduce((acc, media) => acc + media.likes, 0);\r\n\r\n  return { ...photographer, totalLikes };\r\n};\r\n\r\nexport const getAllMediasForPhotographer = (photographerId) =>\r\n  prisma.media.findMany({\r\n    where: { photographerId },\r\n  });\r\n\r\nexport const updateNumberOfLikes = (mediaId, newNumberOfLikes) =>\r\n  prisma.media.update({\r\n    where: { id: mediaId },\r\n    data: { likes: newNumberOfLikes },\r\n  });\r\n"],"names":[],"mappings":";;;;;;;;;;;;AAAA,MAAM,EAAE,YAAY,EAAE;AAEtB,MAAM,SAAS,IAAI;AAEZ,MAAM,sBAAsB,IAAM,OAAO,YAAY,CAAC,QAAQ;AAE9D,MAAM,kBAAkB,CAAC,KAC9B,OAAO,YAAY,CAAC,UAAU,CAAC;QAC7B,OAAO;YAAE;QAAG;IACd;AAEK,MAAM,2BAA2B,OAAO;IAC7C,MAAM,eAAe,MAAM,OAAO,YAAY,CAAC,UAAU,CAAC;QACxD,OAAO;YAAE;QAAG;QACZ,SAAS;YAAE,QAAQ;QAAK;IAC1B;IAEA,IAAI,CAAC,cAAc,OAAO;IAE1B,MAAM,aAAa,aAAa,MAAM,CAAC,MAAM,CAAC,CAAC,KAAK,QAAU,MAAM,MAAM,KAAK,EAAE;IAEjF,OAAO;QAAE,GAAG,YAAY;QAAE;IAAW;AACvC;AAEO,MAAM,8BAA8B,CAAC,iBAC1C,OAAO,KAAK,CAAC,QAAQ,CAAC;QACpB,OAAO;YAAE;QAAe;IAC1B;AAEK,MAAM,sBAAsB,CAAC,SAAS,mBAC3C,OAAO,KAAK,CAAC,MAAM,CAAC;QAClB,OAAO;YAAE,IAAI;QAAQ;QACrB,MAAM;YAAE,OAAO;QAAiB;IAClC"}},
    {"offset": {"line": 237, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/src/components/Gallery/Gallery.module.css [app-client] (css module)"],"sourcesContent":["__turbopack_context__.v({\n  \"gallery\": \"Gallery-module__Sa_FLW__gallery\",\n  \"mediaCard\": \"Gallery-module__Sa_FLW__mediaCard\",\n  \"mediaInfo\": \"Gallery-module__Sa_FLW__mediaInfo\",\n  \"sortContainer\": \"Gallery-module__Sa_FLW__sortContainer\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA"}},
    {"offset": {"line": 247, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Salom%C3%A9/Desktop/Projets%20Openclassrooms/projet4/React-P5-fisheye-main/src/components/Gallery/Gallery.js"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState } from \"react\";\r\nimport Image from \"next/image\";\r\nimport styles from './Gallery.module.css';\r\n\r\nexport default function Gallery({ medias }) {\r\n  const [sortType, setSortType] = useState(\"popularity\");\r\n\r\n  const sortedMedias = [...medias].sort((a, b) => {\r\n    if (sortType === \"popularity\") return b.likes - a.likes;\r\n    if (sortType === \"date\") return new Date(b.date) - new Date(a.date);\r\n    if (sortType === \"title\") return a.title.localeCompare(b.title);\r\n    return 0;\r\n  });\r\n\r\n  return (\r\n    <div>\r\n      <div className={styles.sortContainer}>\r\n        <label>Trier par :</label>\r\n        <select value={sortType} onChange={e => setSortType(e.target.value)}>\r\n          <option value=\"popularity\">Popularité</option>\r\n          <option value=\"date\">Date</option>\r\n          <option value=\"title\">Titre</option>\r\n        </select>\r\n      </div>\r\n\r\n      <div className={styles.gallery}>\r\n        {sortedMedias.map(media => (\r\n          <div key={media.id} className={styles.mediaCard}>\r\n            {media.image && (\r\n              <Image\r\n                src={`/assets/${media.image}`}\r\n                alt={media.title}\r\n                width={250}\r\n                height={250}\r\n                style={{ objectFit: 'cover', borderRadius: '5px' }}\r\n              />\r\n            )}\r\n            {media.video && (\r\n              <video width={250} height={250} controls>\r\n                <source src={`/assets/${media.video}`} type=\"video/mp4\" />\r\n              </video>\r\n            )}\r\n            <div className={styles.mediaInfo}>\r\n              <p>{media.title}</p>\r\n              <p>{media.likes} ♥</p>\r\n            </div>\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;;;AAJA;;;;AAMe,SAAS,QAAQ,EAAE,MAAM,EAAE;;IACxC,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,yKAAQ,EAAC;IAEzC,MAAM,eAAe;WAAI;KAAO,CAAC,IAAI,CAAC,CAAC,GAAG;QACxC,IAAI,aAAa,cAAc,OAAO,EAAE,KAAK,GAAG,EAAE,KAAK;QACvD,IAAI,aAAa,QAAQ,OAAO,IAAI,KAAK,EAAE,IAAI,IAAI,IAAI,KAAK,EAAE,IAAI;QAClE,IAAI,aAAa,SAAS,OAAO,EAAE,KAAK,CAAC,aAAa,CAAC,EAAE,KAAK;QAC9D,OAAO;IACT;IAEA,qBACE,6LAAC;;0BACC,6LAAC;gBAAI,WAAW,iKAAM,CAAC,aAAa;;kCAClC,6LAAC;kCAAM;;;;;;kCACP,6LAAC;wBAAO,OAAO;wBAAU,UAAU,CAAA,IAAK,YAAY,EAAE,MAAM,CAAC,KAAK;;0CAChE,6LAAC;gCAAO,OAAM;0CAAa;;;;;;0CAC3B,6LAAC;gCAAO,OAAM;0CAAO;;;;;;0CACrB,6LAAC;gCAAO,OAAM;0CAAQ;;;;;;;;;;;;;;;;;;0BAI1B,6LAAC;gBAAI,WAAW,iKAAM,CAAC,OAAO;0BAC3B,aAAa,GAAG,CAAC,CAAA,sBAChB,6LAAC;wBAAmB,WAAW,iKAAM,CAAC,SAAS;;4BAC5C,MAAM,KAAK,kBACV,6LAAC,2IAAK;gCACJ,KAAK,CAAC,QAAQ,EAAE,MAAM,KAAK,EAAE;gCAC7B,KAAK,MAAM,KAAK;gCAChB,OAAO;gCACP,QAAQ;gCACR,OAAO;oCAAE,WAAW;oCAAS,cAAc;gCAAM;;;;;;4BAGpD,MAAM,KAAK,kBACV,6LAAC;gCAAM,OAAO;gCAAK,QAAQ;gCAAK,QAAQ;0CACtC,cAAA,6LAAC;oCAAO,KAAK,CAAC,QAAQ,EAAE,MAAM,KAAK,EAAE;oCAAE,MAAK;;;;;;;;;;;0CAGhD,6LAAC;gCAAI,WAAW,iKAAM,CAAC,SAAS;;kDAC9B,6LAAC;kDAAG,MAAM,KAAK;;;;;;kDACf,6LAAC;;4CAAG,MAAM,KAAK;4CAAC;;;;;;;;;;;;;;uBAjBV,MAAM,EAAE;;;;;;;;;;;;;;;;AAwB5B;GA/CwB;KAAA"}},
    {"offset": {"line": 414, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/src/app/page.module.css [app-client] (css module)"],"sourcesContent":["__turbopack_context__.v({\n  \"contact\": \"page-module___8aEwW__contact\",\n  \"container\": \"page-module___8aEwW__container\",\n  \"details\": \"page-module___8aEwW__details\",\n  \"header\": \"page-module___8aEwW__header\",\n  \"imageHeader\": \"page-module___8aEwW__imageHeader\",\n  \"infoContainer\": \"page-module___8aEwW__infoContainer\",\n  \"localisation\": \"page-module___8aEwW__localisation\",\n  \"photoWrapper\": \"page-module___8aEwW__photoWrapper\",\n  \"photographerCardBottom\": \"page-module___8aEwW__photographerCardBottom\",\n  \"portrait\": \"page-module___8aEwW__portrait\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"}},
    {"offset": {"line": 430, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Salom%C3%A9/Desktop/Projets%20Openclassrooms/projet4/React-P5-fisheye-main/src/app/photographes/%5Bid%5D/page.js"],"sourcesContent":["\"use client\";\r\nimport { useState } from \"react\";\r\nimport ContactModal from \"../../../components/ContactForm/ContactForm.js\";\r\n\r\nimport { notFound } from \"next/navigation\";\r\nimport Image from \"next/image\";\r\nimport { getPhotographerWithLikes, getAllMediasForPhotographer } from \"../../lib/prisma-db.js\";\r\nimport Gallery from \"../../../components/Gallery/Gallery.js\";\r\nimport styles from '../../page.module.css';\r\n\r\nexport default async function PhotographerPage({ params }) {\r\n  const resolvedParams = await params;\r\n  const { id } = resolvedParams;\r\n\r\n  const [isModalOpen, setIsModalOpen] = useState(false);\r\n\r\n  if (!id) notFound();\r\n\r\n  const photographer = await getPhotographerWithLikes(Number(id));\r\n  if (!photographer) notFound();\r\n\r\n  const medias = await getAllMediasForPhotographer(Number(id));\r\n\r\n  return (\r\n    <div className={styles.container}>\r\n      <header className={styles.header}>\r\n        <Image\r\n          src=\"/assets/logo/logo-fisheye.png\"\r\n          alt=\"Logo FishEye\"\r\n          width={300}\r\n          height={300}\r\n          className={styles.imageHeader}\r\n        />\r\n      </header>\r\n\r\n      <div className={styles.infoContainer}>\r\n        <section className={styles.details}>\r\n          <h1>{photographer.name}</h1>\r\n          <p className={styles.localisation}>{photographer.city}, {photographer.country}</p>\r\n          <p>{photographer.tagline}</p>\r\n        </section>\r\n\r\n        <section className={styles.contact}>\r\n          <button onClick={() => setIsModalOpen(true)}>Contactez-moi</button>\r\n        </section>\r\n\r\n        {isModalOpen && (\r\n          <ContactModal\r\n            photographerName={photographer.name}\r\n            onClose={() => setIsModalOpen(false)}\r\n          />\r\n)}\r\n\r\n        <section className={styles.portrait}>\r\n          <div className={styles.photoWrapper}>\r\n            <Image\r\n              src={`/assets/${photographer.portrait}`}\r\n              alt={photographer.name}\r\n              fill\r\n              style={{ objectFit: 'cover', objectPosition: 'center' }}\r\n            />\r\n          </div>\r\n        </section>\r\n      </div>\r\n\r\n      <Gallery medias={medias} />\r\n\r\n      <div className={styles.photographerCardBottom}>\r\n        <p>{photographer.totalLikes} ♥</p>\r\n        <p>{photographer.price}€ / jour</p>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;;;AARA;;;;;;;;AAUe,eAAe,iBAAiB,EAAE,MAAM,EAAE;;IACvD,MAAM,iBAAiB,MAAM;IAC7B,MAAM,EAAE,EAAE,EAAE,GAAG;IAEf,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,yKAAQ,EAAC;IAE/C,IAAI,CAAC,IAAI,IAAA,iJAAQ;IAEjB,MAAM,eAAe,MAAM,IAAA,gKAAwB,EAAC,OAAO;IAC3D,IAAI,CAAC,cAAc,IAAA,iJAAQ;IAE3B,MAAM,SAAS,MAAM,IAAA,mKAA2B,EAAC,OAAO;IAExD,qBACE,6LAAC;QAAI,WAAW,4IAAM,CAAC,SAAS;;0BAC9B,6LAAC;gBAAO,WAAW,4IAAM,CAAC,MAAM;0BAC9B,cAAA,6LAAC,2IAAK;oBACJ,KAAI;oBACJ,KAAI;oBACJ,OAAO;oBACP,QAAQ;oBACR,WAAW,4IAAM,CAAC,WAAW;;;;;;;;;;;0BAIjC,6LAAC;gBAAI,WAAW,4IAAM,CAAC,aAAa;;kCAClC,6LAAC;wBAAQ,WAAW,4IAAM,CAAC,OAAO;;0CAChC,6LAAC;0CAAI,aAAa,IAAI;;;;;;0CACtB,6LAAC;gCAAE,WAAW,4IAAM,CAAC,YAAY;;oCAAG,aAAa,IAAI;oCAAC;oCAAG,aAAa,OAAO;;;;;;;0CAC7E,6LAAC;0CAAG,aAAa,OAAO;;;;;;;;;;;;kCAG1B,6LAAC;wBAAQ,WAAW,4IAAM,CAAC,OAAO;kCAChC,cAAA,6LAAC;4BAAO,SAAS,IAAM,eAAe;sCAAO;;;;;;;;;;;oBAG9C,6BACC,6LAAC,6JAAY;wBACX,kBAAkB,aAAa,IAAI;wBACnC,SAAS,IAAM,eAAe;;;;;;kCAIlC,6LAAC;wBAAQ,WAAW,4IAAM,CAAC,QAAQ;kCACjC,cAAA,6LAAC;4BAAI,WAAW,4IAAM,CAAC,YAAY;sCACjC,cAAA,6LAAC,2IAAK;gCACJ,KAAK,CAAC,QAAQ,EAAE,aAAa,QAAQ,EAAE;gCACvC,KAAK,aAAa,IAAI;gCACtB,IAAI;gCACJ,OAAO;oCAAE,WAAW;oCAAS,gBAAgB;gCAAS;;;;;;;;;;;;;;;;;;;;;;0BAM9D,6LAAC,qJAAO;gBAAC,QAAQ;;;;;;0BAEjB,6LAAC;gBAAI,WAAW,4IAAM,CAAC,sBAAsB;;kCAC3C,6LAAC;;4BAAG,aAAa,UAAU;4BAAC;;;;;;;kCAC5B,6LAAC;;4BAAG,aAAa,KAAK;4BAAC;;;;;;;;;;;;;;;;;;;AAI/B;GA/D8B;KAAA"}}]
}